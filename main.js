!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t,r)=>{(e=>e.some((e=>!e.validity.valid)))(e)?o(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},o=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)};function n(e,t,r="Save",o="Saving..."){e.textContent=t?o:r}const a=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}editUserAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}handleLike(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5d7efe41-e0e9-42e7-a4b5-1b3b3c5a1880","Content-Type":"application/json"}});a.getAppInfo().then((([e,t])=>{e.forEach((e=>{const t=O(e);w.append(t)})),i.textContent=t.name,d.textContent=t.about,p.src=t.avatar,p.alt=t.name})).catch(console.error);const s=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__add-button"),c=document.querySelector(".profile__avatar-button"),i=document.querySelector(".profile__name"),d=document.querySelector(".profile__description"),u=document.querySelector("#edit-modal"),m=u.querySelector(".modal__form"),_=u.querySelector(".modal__close-button"),h=u.querySelector("#profile-name-input"),v=u.querySelector("#profile-description-input"),y=document.querySelector("#avatar-modal"),f=y.querySelector(".modal__form"),S=y.querySelector(".modal__close-button"),b=y.querySelector("#profile-avatar-input"),p=document.querySelector(".profile__avatar"),q=document.querySelector("#delete-modal"),k=q.querySelector(".modal__form-delete"),E=q.querySelector(".modal__close-button_delete"),L=q.querySelector(".modal__submit-button_type_cancel"),C=document.querySelector("#preview-modal"),g=C.querySelector(".modal__image"),$=C.querySelector(".modal__caption"),U=C.querySelector(".modal__close-button"),j=(document.querySelectorAll(".modal__close-img"),document.querySelector("#add-card-modal")),A=j.querySelector(".modal__form"),P=j.querySelector(".modal__submit-button"),x=j.querySelector(".modal__close-button"),D=A.querySelector("#add-card-name-input"),I=A.querySelector("#add-card-link-input"),T=document.querySelector("#card-template"),w=document.querySelector(".cards__list");let B,N;function O(e){console.log("Card data:",e);const t=T.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__title"),o=t.querySelector(".card__image"),n=t.querySelector(".card__like-button"),s=t.querySelector(".card__delete-button");return r.textContent=e.name,o.src=e.link,o.alt=e.name,e.isLiked&&n.classList.add("card__like-button_liked"),n.addEventListener("click",(()=>{n.classList.toggle("card__like-button_liked");const t=n.classList.contains("card__like-button_liked");a.handleLike(e._id,!t).then((e=>{console.log(e)})).catch((e=>{console.error(e)}))})),o.addEventListener("click",(()=>{z(C),$.textContent=e.name,g.src=e.link,g.alt=e.name})),s.addEventListener("click",(r=>function(e,t){B=e,N=t,z(q)}(t,e._id))),t}function J(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&M(e)}}function H(e){e.target.classList.contains("modal")&&M(e.target)}function z(e){e.classList.add("modal_opened"),document.addEventListener("keydown",J),e.addEventListener("click",H)}function M(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",J),e.removeEventListener("click",H)}var F;s.addEventListener("click",(()=>{var r,o;h.value=i.textContent,v.value=d.textContent,z(u),r=m,o=e,Array.from(r.querySelectorAll(o.inputSelector)).forEach((e=>{t(r,e,o)}))})),_.addEventListener("click",(()=>{M(u)})),l.addEventListener("click",(()=>{z(j)})),c.addEventListener("click",(()=>{z(y)})),f.addEventListener("submit",(function(t){t.preventDefault();const r=t.submitter;n(r,!0),a.editUserAvatar({avatar:b.value}).then((r=>{p.src=r.avatar,p.alt=r.name,t.target.reset(),o(avatarSubmitButton,e),M(y)})).catch(console.error).finally((()=>{n(r,!1)}))})),k.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;n(t,!0,"Delete","Deleting..."),a.deleteCard(N).then((()=>{B.remove(),M(q)})).catch(console.error).finally((()=>{n(t,!1,"Delete","Deleting...")}))})),E.addEventListener("click",(()=>{M(q)})),L.addEventListener("click",(()=>{M(q)})),x.addEventListener("click",(()=>{M(j)})),S.addEventListener("click",(()=>{M(y)})),U.addEventListener("click",(()=>{M(C)})),m.addEventListener("submit",(function(e){e.preventDefault();const t=e.submitter;n(t,!0),a.editUserInfo({name:h.value,about:v.value}).then((e=>{i.textContent=e.name,d.textContent=e.about,M(u)})).catch(console.error).finally((()=>{n(t,!1)}))})),A.addEventListener("submit",(function(t){t.preventDefault();const r=t.submitter;n(r,!0);const s={name:D.value,link:I.value};a.addNewCard(s).then((r=>{const n=O({...s,_id:r._id,isLiked:!1});w.prepend(n),t.target.reset(),o(P,e),M(j)})).catch(console.error).finally((()=>{n(r,!1)}))})),F=e,document.querySelectorAll(F.formSelector).forEach((e=>{((e,o)=>{const n=Array.from(e.querySelectorAll(o.inputSelector)),a=e.querySelector(o.submitButtonSelector);r(n,a,o),n.forEach((s=>{s.addEventListener("input",(function(){((e,r,o)=>{r.validity.valid?t(e,r,o):((e,t,r,o)=>{e.querySelector(`#${t.id}-error`).textContent=r,t.classList.add(o.inputErrorClass)})(e,r,r.validationMessage,o)})(e,s,o),r(n,a,o)}))}))})(e,F)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPUixnQkFDdERxSixFQUFnQi9JLEVBQU9HLGNBQWNELEVBQU9QLHNCQUVsRGEsRUFBa0JDLEVBQVdzSSxFQUFlN0ksR0FFNUNPLEVBQVVvRCxTQUFTbUYsSUFDakJBLEVBQWE5QixpQkFBaUIsU0FBUyxXQTFDaEIrQixFQUFDakosRUFBUUMsRUFBU0MsS0FDdENELEVBQVFZLFNBQVNDLE1BR3BCZixFQUFlQyxFQUFRQyxFQUFTQyxHQWhCYmdKLEVBQUNsSixFQUFRQyxFQUFTa0osRUFBVWpKLEtBQzlCRixFQUFPRyxjQUFjLElBQUlGLEVBQVFHLFlBQ3pDQyxZQUFjOEksRUFDekJsSixFQUFRSyxVQUFVWSxJQUFJaEIsRUFBT0wsa0JBVzNCcUosQ0FBZWxKLEVBQVFDLEVBQVNBLEVBQVFtSixrQkFBbUJsSixJQXlDekQrSSxDQUFtQmpKLEVBQVFnSixFQUFjOUksR0FDekNNLEVBQWtCQyxFQUFXc0ksRUFBZTdJLEVBQzlDLFFBT0E0SSxDQUFrQjlJLEVBQVFFLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2hlbHBlci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvdXRpbHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xuICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsLCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICBidXR0b25FbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xuICB9KTtcbn07XG5cbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XG4gIH0pO1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBzZXRCdXR0b25UZXh0KFxuICBidG4sXG4gIGlzTG9hZGluZyxcbiAgZGVmYXVsdFRleHQgPSBcIlNhdmVcIixcbiAgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiXG4pIHtcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICB9IGVsc2Uge1xuICAgIGJ0bi50ZXh0Q29udGVudCA9IGRlZmF1bHRUZXh0O1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgc2V0dGluZ3MsXG4gIHJlc2V0VmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuaW1wb3J0IHsgc2V0QnV0dG9uVGV4dCB9IGZyb20gXCIuLi91dGlscy9oZWxwZXIuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI1ZDdlZmU0MS1lMGU5LTQyZTctYTRiNS0xYjNiM2M1YTE4ODBcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5hcGlcbiAgLmdldEFwcEluZm8oKVxuICAudGhlbigoW2NhcmRzLCB1c2VyXSkgPT4ge1xuICAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaXRlbSk7XG4gICAgICBjYXJkc0xpc3QuYXBwZW5kKGNhcmRFbGVtZW50KTtcbiAgICB9KTtcblxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xuICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XG4gICAgYXZhdGFyRWxlbWVudC5zcmMgPSB1c2VyLmF2YXRhcjtcbiAgICBhdmF0YXJFbGVtZW50LmFsdCA9IHVzZXIubmFtZTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vL1Byb2ZpbGVcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGNhcmRNb2RhbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhck1vZGFsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuXG4vL0Zvcm1cbmNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcbmNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgZWRpdE1vZGFsTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xuY29uc3QgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcbik7XG5cbi8vQXZhdGFyXG5jb25zdCBhdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsXCIpO1xuY29uc3QgYXZhdGFyTW9kYWxGb3JtID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGF2YXRhck1vZGFsQ2xvc2VCdXR0b24gPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5jb25zdCBhdmF0YXJNb2RhbElucHV0ID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWF2YXRhci1pbnB1dFwiKTtcbmNvbnN0IGF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcblxuLy9EZWxldGVcbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5jb25zdCBkZWxldGVNb2RhbEZvcm0gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtLWRlbGV0ZVwiKTtcbmNvbnN0IGRlbGV0ZU1vZGFsQ2xvc2VCdXR0b24gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX2RlbGV0ZVwiXG4pO1xuY29uc3QgZGVsZXRlTW9kYWxDYW5jZWxCdXR0b24gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvbl90eXBlX2NhbmNlbFwiXG4pO1xuXG4vL01vZGFsXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XG5jb25zdCBwcmV2aWV3TW9kYWxJbWFnZUVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2FwdGlvbkVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBwcmV2aWV3TW9kYWxDbG9zZUJ1dHRvbiA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5jb25zdCBlZGl0TW9kYWxDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1pbWdcIik7XG5cbi8vQ2FyZHNcbmNvbnN0IGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG5jb25zdCBjYXJkRm9ybSA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgY2FyZFN1Ym1pdEJ1dHRvbiA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpO1xuY29uc3QgY2FyZE1vZGFsQ2xvc2VCdXR0b24gPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuY29uc3QgY2FyZE5hbWVJbnB1dCA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGNhcmRMaW5rSW5wdXQgPSBjYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWxpbmstaW5wdXRcIik7XG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG5sZXQgc2VsZWN0ZWRDYXJkLCBzZWxlY3RlZENhcmRJZDtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbihjYXJkRWxlbWVudCwgY2FyZElkKSB7XG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xuICBzZWxlY3RlZENhcmRJZCA9IGNhcmRJZDtcbiAgb3Blbk1vZGFsKGRlbGV0ZU1vZGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zb2xlLmxvZyhcIkNhcmQgZGF0YTpcIiwgZGF0YSk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICBjb25zdCBjYXJkTmFtZUVsID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgY29uc3QgY2FyZEltYWdlRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG5cbiAgY2FyZE5hbWVFbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgY2FyZEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XG5cbiAgY29uc3QgaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgaWYgKGlzTGlrZWQpIHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XG4gIH1cblxuICBjYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcbiAgICBjb25zdCBpc0xpa2VkID0gY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiXG4gICAgKTtcbiAgICBhcGlcbiAgICAgIC5oYW5kbGVMaWtlKGRhdGEuX2lkLCAhaXNMaWtlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBvcGVuTW9kYWwocHJldmlld01vZGFsKTtcbiAgICBwcmV2aWV3TW9kYWxDYXB0aW9uRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgcHJldmlld01vZGFsSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gICAgcHJldmlld01vZGFsSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XG4gIH0pO1xuXG4gIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+XG4gICAgaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbihjYXJkRWxlbWVudCwgZGF0YS5faWQpXG4gICk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBvcGVuZWRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xuICAgIGlmIChvcGVuZWRNb2RhbCkge1xuICAgICAgY2xvc2VNb2RhbChvcGVuZWRNb2RhbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNsaWNrT2ZmQ2xvc2UoZXZ0KSB7XG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XG4gICAgY2xvc2VNb2RhbChldnQudGFyZ2V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjQ2xvc2UpO1xuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPZmZDbG9zZSk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjQ2xvc2UpO1xuICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPZmZDbG9zZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcbiAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIHRydWUsIFwiRGVsZXRlXCIsIFwiRGVsZXRpbmcuLi5cIik7XG5cbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgZmFsc2UsIFwiRGVsZXRlXCIsIFwiRGVsZXRpbmcuLi5cIik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBldnQuc3VibWl0dGVyO1xuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgdHJ1ZSk7XG5cbiAgYXBpXG4gICAgLmVkaXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWUsXG4gICAgICBhYm91dDogZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSxcbiAgICB9KVxuICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXIubmFtZTtcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XG4gICAgICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBldnQuc3VibWl0dGVyO1xuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgdHJ1ZSk7XG5cbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7IG5hbWU6IGNhcmROYW1lSW5wdXQudmFsdWUsIGxpbms6IGNhcmRMaW5rSW5wdXQudmFsdWUgfTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoe1xuICAgICAgICAuLi5pbnB1dFZhbHVlcyxcbiAgICAgICAgX2lkOiBkYXRhLl9pZCxcbiAgICAgICAgaXNMaWtlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICAgIGRpc2FibGVCdXR0b24oY2FyZFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICAgICAgY2xvc2VNb2RhbChjYXJkTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBldnQuc3VibWl0dGVyO1xuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgdHJ1ZSk7XG5cbiAgYXBpXG4gICAgLmVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyOiBhdmF0YXJNb2RhbElucHV0LnZhbHVlIH0pXG4gICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgIGF2YXRhckVsZW1lbnQuc3JjID0gdXNlci5hdmF0YXI7XG4gICAgICBhdmF0YXJFbGVtZW50LmFsdCA9IHVzZXIubmFtZTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICAgIGRpc2FibGVCdXR0b24oYXZhdGFyU3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7XG4gICAgICBjbG9zZU1vZGFsKGF2YXRhck1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldEJ1dHRvblRleHQoc3VibWl0QnV0dG9uLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xuICBvcGVuTW9kYWwoZWRpdE1vZGFsKTtcbiAgcmVzZXRWYWxpZGF0aW9uKGVkaXRGb3JtRWxlbWVudCwgc2V0dGluZ3MpO1xufSk7XG5cbmVkaXRNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZWRpdE1vZGFsKTtcbn0pO1xuXG5jYXJkTW9kYWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XG59KTtcblxuYXZhdGFyTW9kYWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcbn0pO1xuXG5hdmF0YXJNb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJTdWJtaXQpO1xuXG5kZWxldGVNb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVTdWJtaXQpO1xuXG5kZWxldGVNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xufSk7XG5cbmRlbGV0ZU1vZGFsQ2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xufSk7XG5cbmNhcmRNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoY2FyZE1vZGFsKTtcbn0pO1xuXG5hdmF0YXJNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbnByZXZpZXdNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwocHJldmlld01vZGFsKTtcbn0pO1xuXG5lZGl0Rm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVFZGl0Rm9ybVN1Ym1pdCk7XG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIGVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUxpa2UoY2FyZElkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiYWRkIiwic2V0QnV0dG9uVGV4dCIsImJ0biIsImlzTG9hZGluZyIsImRlZmF1bHRUZXh0IiwibG9hZGluZ1RleHQiLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRBcHBJbmZvIiwiUHJvbWlzZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwicmVqZWN0Iiwic3RhdHVzIiwiYWRkTmV3Q2FyZCIsIm5hbWUiLCJsaW5rIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0VXNlckluZm8iLCJhYm91dCIsImVkaXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImhhbmRsZUxpa2UiLCJpc0xpa2VkIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzIiwidXNlciIsImZvckVhY2giLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJnZXRDYXJkRWxlbWVudCIsImNhcmRzTGlzdCIsImFwcGVuZCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiYXZhdGFyRWxlbWVudCIsInNyYyIsImFsdCIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJkb2N1bWVudCIsImNhcmRNb2RhbEJ1dHRvbiIsImF2YXRhck1vZGFsQnV0dG9uIiwiZWRpdE1vZGFsIiwiZWRpdEZvcm1FbGVtZW50IiwiZWRpdE1vZGFsQ2xvc2VCdXR0b24iLCJlZGl0TW9kYWxOYW1lSW5wdXQiLCJlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEZvcm0iLCJhdmF0YXJNb2RhbENsb3NlQnV0dG9uIiwiYXZhdGFyTW9kYWxJbnB1dCIsImRlbGV0ZU1vZGFsIiwiZGVsZXRlTW9kYWxGb3JtIiwiZGVsZXRlTW9kYWxDbG9zZUJ1dHRvbiIsImRlbGV0ZU1vZGFsQ2FuY2VsQnV0dG9uIiwicHJldmlld01vZGFsIiwicHJldmlld01vZGFsSW1hZ2VFbCIsInByZXZpZXdNb2RhbENhcHRpb25FbCIsInByZXZpZXdNb2RhbENsb3NlQnV0dG9uIiwiY2FyZE1vZGFsIiwicXVlcnlTZWxlY3RvckFsbCIsImNhcmRGb3JtIiwiY2FyZFN1Ym1pdEJ1dHRvbiIsImNhcmRNb2RhbENsb3NlQnV0dG9uIiwiY2FyZE5hbWVJbnB1dCIsImNhcmRMaW5rSW5wdXQiLCJjYXJkVGVtcGxhdGUiLCJzZWxlY3RlZENhcmQiLCJzZWxlY3RlZENhcmRJZCIsImRhdGEiLCJsb2ciLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWVFbCIsImNhcmRJbWFnZUVsIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZSIsImNvbnRhaW5zIiwiX2lkIiwiZXJyIiwib3Blbk1vZGFsIiwiZXZ0IiwiaGFuZGxlRGVsZXRlQ2FyZEJ1dHRvbiIsImhhbmRsZUVzY0Nsb3NlIiwia2V5Iiwib3BlbmVkTW9kYWwiLCJjbG9zZU1vZGFsIiwiaGFuZGxlQ2xpY2tPZmZDbG9zZSIsInRhcmdldCIsIm1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwiQXJyYXkiLCJmcm9tIiwicHJldmVudERlZmF1bHQiLCJzdWJtaXRCdXR0b24iLCJzdWJtaXR0ZXIiLCJyZXNldCIsImF2YXRhclN1Ym1pdEJ1dHRvbiIsImZpbmFsbHkiLCJpbnB1dFZhbHVlcyIsInByZXBlbmQiLCJzZXRFdmVudExpc3RlbmVycyIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9